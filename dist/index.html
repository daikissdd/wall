<!DOCTYPE html>
<html lang="ja" ng-app="wall">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Wall URLクラウドノート</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="stylesheet" href="assets/css/all.css" />
</head>

<body ng-controller="appCtrl" ng-cloak>
	<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)" class="margin0">{{alert.msg}}</alert>
	<div ng-view></div>
	<footer ng-include="'assets/html/footer.html'"></footer>

    <script src="assets/js/load-min.js"></script>
    <script src="gulpconfig.js"></script>
    <script>
	    var APP_ENV = function(env) {
			var dev = {api: 'localhost', mode: 'development'};
			var pro = {api: 'heroku', mode: 'production'};
			if (env === 'production') return pro;
			return dev;
		};

		(function() {
			if (location.hostname.indexOf('localhost') === -1) {
				load('assets/js/all.js').thenRun(function () {
					console.log('JS All Loaded in Production.');
				});
				return;
			}
			var jsFiles = APP_JS_FILES.get();
			var d = {};
			for (var i = 0; i < jsFiles.length; i++) {
				console.log(jsFiles[i] + ' Loaded');
				if (i === 0) d = load(jsFiles[i]);
				d = d.then(jsFiles[i]);
			}
			d.thenRun(function () {
			   console.log('JS All Loaded in Development.');
			});
		})();
    </script>
</body>
</html>
